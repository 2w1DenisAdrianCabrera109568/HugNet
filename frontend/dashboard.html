<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>HugNet | Dashboard</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
  <link rel="stylesheet" href="css/styles.css">
</head>

<body class="app-layout-dashboard">

  <div class="d-flex">

    <!-- Barra lateral (Sidebar) -->
    <nav id="sidebar" class="d-flex flex-column p-3 text-white bg-primary shadow">
      <div class="d-flex justify-content-between align-items-center mb-3">
        <a href="menu.html" class="navbar-brand fw-bold text-center flex-grow-1">
          HugNet
        </a>
        <!-- Boton para cerrar sidebar en moviles -->
        <button id="closeSidebarBtn" class="btn btn-close btn-close-white d-md-none ms-2"></button>
      </div>

      <!-- Info del Usuario -->
      <div class="user-info text-center border-top pt-3">
        <p class="mb-0 small">Conectado como:</p>
        <p id="userName" class="fw-bold small"></p>
      </div>

      <!-- Navegacion Principal (Generada por app.js) -->
      <ul id="sidebar-nav" class="nav nav-pills flex-column mb-auto">
        <!-- Los items <li> se generan dinamicamente por app.js -->
      </ul>
      <ul id="sidebar-utility-nav" class="nav nav-pills flex-column">
        <!-- Los items <li> se generan dinamicamente por app.js -->
      </ul>

      <hr>
      <!-- Boton de Salir -->
      <div class="d-grid">
        <button id="logoutBtn" class="btn btn-outline-light btn-sm">
          <i class="bi bi-box-arrow-right me-2"></i>Cerrar sesion
        </button>
      </div>
    </nav>

    <!-- Contenido Principal -->
    <main id="main-content" class="w-100 p-4">
      <!-- Boton para abrir sidebar en moviles -->
      <button id="openSidebarBtn" class="btn btn-primary d-md-none mb-3 sidebar-toggle">
        <i class="bi bi-list me-2"></i>Menu
      </button>

      <!-- Titulo del Contenido (Dinamico) -->
      <h2 id="content-title" class="text-primary fw-bold mb-4">Dashboard</h2>

      <!-- Area del Contenido (Dinamico) -->
      <div id="content-area" class="card shadow-sm border-0">
        <div class="card-body p-4">
          Cargando contenido...
        </div>
      </div>
    </main>

  </div>
  <!-- Area del Footer -->
  <footer class="footer mt-auto py-3 bg-light border-top">
    <div class="container-fluid text-center">
      <span class="text-muted">
        &copy; 2025 HugNet. Todos los derechos reservados.
      </span> |
      <a href="dashboard.html?view=Acerca%20de%20HugNet">Acerca de HugNet</a> |
      <a href="dashboard.html?view=Contacto">Contacto</a>
    </div>
  </footer>
  <!-- Bootstrap JS (necesario para algunos componentes) -->
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <!-- SweetAlert2 (para popups bonitos) -->
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <!-- Tu app.js (controla toda la logica) -->
  <script src="js/app.js"></script>

  <!-- 
    REFACTORIZACION:
    El script de toggle para el sidebar movil se ha movido
    dentro de la funcion initDashboardPage() en app.js.
    Esto asegura que los event listeners se adjunten DESPUES
    de que los links del menu (#sidebar-nav a) sean creados.
  -->
</body>

</html>